(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c5da8fa"],{7727:function(e,t,i){},a0a7:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.$root.showLoadingIcon,expression:"$root.showLoadingIcon"}],staticClass:"table"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 用户地址列表")])],1)],1),i("div",{staticClass:"container"},[i("el-table",{staticClass:"table",attrs:{data:e.data,border:""}},[i("el-table-column",{attrs:{prop:"index",label:"序号",sortable:"",align:"center",width:"140"}}),i("el-table-column",{attrs:{prop:"province",label:"省",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"city",label:"市",align:"center",width:"180"}}),i("el-table-column",{attrs:{prop:"district",label:"区(县)",align:"center",width:"140"}}),i("el-table-column",{attrs:{prop:"street",label:"街道",align:"center",width:"140"}}),i("el-table-column",{attrs:{prop:"address",label:"具体地址",align:"center"}})],1)],1),i("el-dialog",{attrs:{title:"修改轮播图",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),i("el-form-item",{attrs:{label:"跳转地址"}},[i("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),i("el-form-item",{attrs:{label:"原图片"}},[i("img",{attrs:{src:e.form.imgurl,alt:"呀,图片加载不出来",width:"200px",height:"200px"}})]),i("el-form-item",{attrs:{label:"轮播图"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"list-type":"picture-card",accept:"image/*",headers:e.$root.headers,"with-credentials":e.withCredentials,action:e.editUrl,data:e.editData,limit:e.limit,name:e.fileName,"file-list":e.fileList,"on-error":e.editFailure,"on-success":e.editSuccess,"on-exceed":e.onExceed,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"footer-center"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("提 交")])],1)])],1),i("el-dialog",{attrs:{title:"新增轮播图",visible:e.addVisible,width:"30%"},on:{"update:visible":function(t){e.addVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),i("el-form-item",{attrs:{label:"跳转地址"}},[i("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),i("el-form-item",{attrs:{label:"轮播图"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"list-type":"picture-card",accept:"image/*",headers:e.$root.headers,"with-credentials":e.withCredentials,action:e.addUrl,data:e.addData,limit:e.limit,name:e.fileName,"file-list":e.fileList,"on-error":e.editFailure,"on-success":e.editSuccess,"on-exceed":e.onExceed,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"footer-center"},[i("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("提 交")])],1)])],1),i("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[i("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)])],1)},s=[],a={name:"basetable",data:function(){return{url:"address/listCustomerPlace",editUrl:"slideShow/updateSlideShow",delUrl:"slideShow/deleteSlideShow",addUrl:"slideShow/addSlideShow",banners:[],customerPlaces:[],fileName:"img",fileList:[],limit:1,withCredentials:!0,addVisible:!1,editVisible:!1,delVisible:!1,form:{description:"",imgurl:"",url:"",id:null},waitToDel:{}}},created:function(){this.getCustomerPlacesList(),this.editUrl=this.$urlConfig.baseUrl+this.editUrl,this.addUrl=this.$urlConfig.baseUrl+this.addUrl},computed:{data:function(){var e=this;return e.customerPlaces.map(function(e,t){return{index:t+1,id:e.id,province:e.province,city:e.city,district:e.district,street:e.street,address:e.address}})},editData:function(){var e=this;return{id:e.form.id,description:e.form.description,url:e.form.url}},addData:function(){var e=this;return{description:e.form.description,url:e.form.url}}},methods:{getCustomerPlacesList:function(){var e=this;e.$jsonAxios.get(e.url).then(function(t){e.$util.getSuccessHandler(t,e,"customerPlaces")}).catch(function(t){e.$util.axiosErrorHandler(t,e)})},handleAdd:function(){var e=this;e.fileList=[],e.form={},e.addVisible=!0},handleEdit:function(e,t){var i=this;i.idx=e;var l=i.data[e];i.form={description:l.description,imgurl:l.imgurl,url:l.url,id:l.id},i.fileList=[],i.editVisible=!0},handleDelete:function(e,t){this.waitToDel.idx=e,this.waitToDel.id=t.id,this.delVisible=!0},addSubmit:function(){this.$refs.upload.submit()},saveEdit:function(){var e=this;if(1==e.fileList.length)e.$refs.upload.submit();else{var t=e.$qs.stringify(e.editData);console.log(t),e.$jsonAxios.post(e.editUrl,t).then(function(t){var i=t.data;i.code==e.$util.success_code?e.$message.success("成功！"):e.$message.error("错误码："+i.code+" "+i.message),e.editVisible=!1}).catch(function(e){})}},deleteRow:function(){var e=this,t=e.delUrl+"?id="+e.waitToDel.id;e.$jsonAxios.get(t).then(function(t){e.$util.signleDeleteSuccessHandler(t,e,"banners",e.waitToDel.idx),e.delVisible=!1}).catch(function(t){e.$util.axiosErrorHandler(t)})},editSuccess:function(e,t,i){var l=this;l.$util.checkIfResponseSuccess(e)?(l.$message.success("成功!"),l.getRawBannerList(),l.editVisible=!1,l.addVisible=!1):l.editFailure()},editFailure:function(e,t,i){this.$message.error("失败!")},onExceed:function(){this.$message.error("最多上传一张,请先删除左边的轮播图")}}},r=a,o=(i("de7e"),i("2877")),d=Object(o["a"])(r,l,s,!1,null,"2ef35e46",null);d.options.__file="customer-place-list.vue";t["default"]=d.exports},de7e:function(e,t,i){"use strict";var l=i("7727"),s=i.n(l);s.a}}]);